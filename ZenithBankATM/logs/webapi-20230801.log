[2023-08-01 01:57:30.495 +01:00  INF]  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 01:57:33.587 +01:00  INF]  Executed DbCommand (3,023ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [ZenithBankData] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2023-08-01 01:57:33.638 +01:00  INF]  Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [ZenithBankData];
[2023-08-01 03:01:53.182 +01:00  INF]  Executed DbCommand (258ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [ZenithBankData];
[2023-08-01 03:01:53.283 +01:00  INF]  Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [ZenithBankData] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-08-01 03:01:53.299 +01:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 03:01:53.379 +01:00  INF]  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-08-01 03:01:53.381 +01:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 03:01:53.400 +01:00  INF]  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-08-01 03:01:53.406 +01:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-08-01 03:01:53.422 +01:00  INF]  Applying migration '20230801020144_InitialCreate'.
[2023-08-01 03:01:53.461 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Customers] (
    [Id] uniqueidentifier NOT NULL,
    [FirstName] nvarchar(30) NOT NULL,
    [LastName] nvarchar(30) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [BVN] nvarchar(12) NOT NULL,
    [IsConfirmed] bit NOT NULL,
    [DateCreated] datetime2 NOT NULL,
    [DateUpdated] datetime2 NOT NULL,
    CONSTRAINT [PK_Customers] PRIMARY KEY ([Id])
);
[2023-08-01 03:01:53.464 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] uniqueidentifier NOT NULL,
    [AccountNumber] nvarchar(10) NOT NULL,
    [AccountType] int NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [HasATMCard] bit NOT NULL,
    [ATMCardType] int NOT NULL,
    [ATMCardNumber] nvarchar(20) NOT NULL,
    [ATMCardCCV] nvarchar(3) NOT NULL,
    [ATMCardPIN] nvarchar(4) NOT NULL,
    [ATMCardIssueDate] datetime2 NOT NULL,
    [ATMCardExpiryDate] datetime2 NOT NULL,
    [CustomerId] uniqueidentifier NOT NULL,
    [DateCreated] datetime2 NOT NULL,
    [DateUpdated] datetime2 NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Accounts_Customers_CustomerId] FOREIGN KEY ([CustomerId]) REFERENCES [Customers] ([Id]) ON DELETE CASCADE
);
[2023-08-01 03:01:53.465 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Accounts_CustomerId] ON [Accounts] ([CustomerId]);
[2023-08-01 03:01:53.467 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230801020144_InitialCreate', N'7.0.9');
[2023-08-01 03:11:52.569 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 03:11:52.602 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 03:11:52.609 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 03:11:52.610 +01:00  INF]  Hosting environment: Development
[2023-08-01 03:11:52.610 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 03:11:53.037 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 03:11:53.521 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 03:11:53.530 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 8.4237ms
[2023-08-01 03:11:53.539 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 509.2316ms
[2023-08-01 03:11:53.554 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 03:11:53.581 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.9483ms
[2023-08-01 03:11:53.708 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 03:11:53.899 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 190.8661ms
[2023-08-01 03:12:43.056 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Account/Register application/json 82
[2023-08-01 03:12:43.076 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API)'
[2023-08-01 03:12:43.124 +01:00  INF]  Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ZenithBankATM.API.Services.Customers.CustomerCreationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 03:12:43.408 +01:00  INF]  Receieved customer creation request {"FirstName":"string","LastName":"string","Email":"string@email.com"}
[2023-08-01 03:12:45.817 +01:00  INF]  Executed DbCommand (98ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2023-08-01 03:12:46.181 +01:00  INF]  Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 12), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 30), @p6='?' (DbType = Boolean), @p7='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Id], [BVN], [DateCreated], [DateUpdated], [Email], [FirstName], [IsConfirmed], [LastName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[2023-08-01 03:12:46.198 +01:00  INF]  New customer created ZenithBankATM.API.Database.Entities.Customer
[2023-08-01 03:12:46.211 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Database.Entities.Customer'.
[2023-08-01 03:12:46.244 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API) in 3113.9544ms
[2023-08-01 03:12:46.245 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API)'
[2023-08-01 03:12:46.269 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Account/Register application/json 82 - 200 - application/json;+charset=utf-8 3212.5229ms
[2023-08-01 03:13:35.849 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149
[2023-08-01 03:13:35.860 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 03:13:35.862 +01:00  INF]  Route matched with {action = "ConfirmCustomerAndGenerateAccountNumber", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmCustomerAndGenerateAccountNumber(ZenithBankATM.API.Services.Customers.AccountConfirmationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 03:13:35.891 +01:00  INF]  Receieved customer account confirmation request {"CustomerId":"c9723215-03eb-4507-2983-08db9234cbdb","AccountName":"string","AccountType":1,"RequiresATMCard":true,"CardType":1}
[2023-08-01 03:13:35.956 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customerId_0
[2023-08-01 03:13:36.060 +01:00  ERR]  Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 20), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 10), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [ATMCardCCV], [ATMCardExpiryDate], [ATMCardIssueDate], [ATMCardNumber], [ATMCardPIN], [ATMCardType], [AccountNumber], [AccountType], [CustomerId], [DateCreated], [DateUpdated], [HasATMCard], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
[2023-08-01 03:13:36.132 +01:00  ERR]  An exception occurred in the database while saving changes for context type 'ZenithBankATM.API.Database.DataContext.StorageDataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Customers_CustomerId". The conflict occurred in database "ZenithBankData", table "dbo.Customers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f11f5301-f2d2-4a38-a388-c6819c537f5f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Customers_CustomerId". The conflict occurred in database "ZenithBankData", table "dbo.Customers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f11f5301-f2d2-4a38-a388-c6819c537f5f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
[2023-08-01 03:13:36.320 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API) in 457.8851ms
[2023-08-01 03:13:36.321 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 03:13:36.327 +01:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Accounts_Customers_CustomerId". The conflict occurred in database "ZenithBankData", table "dbo.Customers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__208_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f11f5301-f2d2-4a38-a388-c6819c537f5f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ZenithBankATM.API.Services.Customers.CustomerService.ConfirmCustomerAndCreateAccount(AccountConfirmationRequest request, CancellationToken cancellationToken) in C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\Services\Customers\CustomerService.cs:line 80
   at ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber(AccountConfirmationRequest request) in C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\Controllers\AccountController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2023-08-01 03:13:36.347 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149 - 500 - text/plain;+charset=utf-8 498.4291ms
[2023-08-01 03:14:34.020 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 03:14:34.047 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 27.3715ms
[2023-08-01 03:14:34.077 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 03:14:34.085 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 8.1001ms
[2023-08-01 03:14:34.085 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 03:14:34.102 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.7561ms
[2023-08-01 03:14:34.220 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 03:14:34.223 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.3804ms
[2023-08-01 03:14:43.223 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149
[2023-08-01 03:14:43.223 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 03:14:43.227 +01:00  INF]  Route matched with {action = "ConfirmCustomerAndGenerateAccountNumber", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmCustomerAndGenerateAccountNumber(ZenithBankATM.API.Services.Customers.AccountConfirmationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 03:14:43.232 +01:00  INF]  Receieved customer account confirmation request {"CustomerId":"c9723215-03eb-4507-2983-08db9234cbdb","AccountName":"string","AccountType":1,"RequiresATMCard":true,"CardType":1}
[2023-08-01 03:14:43.297 +01:00  INF]  Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customerId_0
[2023-08-01 03:14:43.329 +01:00  INF]  Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 20), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 10), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [ATMCardCCV], [ATMCardExpiryDate], [ATMCardIssueDate], [ATMCardNumber], [ATMCardPIN], [ATMCardType], [AccountNumber], [AccountType], [CustomerId], [DateCreated], [DateUpdated], [HasATMCard], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
[2023-08-01 03:14:43.506 +01:00  INF]  Executed DbCommand (3ms) [Parameters=[@__customer_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BVN], [t].[DateCreated], [t].[DateUpdated], [t].[Email], [t].[FirstName], [t].[IsConfirmed], [t].[LastName], [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
    FROM [Customers] AS [c]
    WHERE [c].[Id] = @__customer_Id_0
) AS [t]
LEFT JOIN [Accounts] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id]
[2023-08-01 03:14:43.511 +01:00  INF]  Customer confirmed ZenithBankATM.API.Database.Entities.Customer
[2023-08-01 03:14:43.511 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Database.Entities.Customer'.
[2023-08-01 03:14:43.527 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API) in 299.5416ms
[2023-08-01 03:14:43.527 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 03:14:43.527 +01:00  ERR]  An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2023-08-01 03:14:43.532 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149 - 500 - text/plain;+charset=utf-8 309.1017ms
[2023-08-01 03:16:45.368 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 03:16:45.405 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 03:16:45.410 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 03:16:45.411 +01:00  INF]  Hosting environment: Development
[2023-08-01 03:16:45.411 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 03:16:46.041 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 03:16:46.502 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 03:16:46.510 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 7.5859ms
[2023-08-01 03:16:46.511 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 475.9003ms
[2023-08-01 03:16:46.528 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 03:16:46.554 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.8653ms
[2023-08-01 03:16:46.647 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 03:16:46.816 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 169.7626ms
[2023-08-01 03:16:54.221 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149
[2023-08-01 03:16:54.232 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 03:16:54.269 +01:00  INF]  Route matched with {action = "ConfirmCustomerAndGenerateAccountNumber", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmCustomerAndGenerateAccountNumber(ZenithBankATM.API.Services.Customers.AccountConfirmationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 03:16:54.571 +01:00  INF]  Receieved customer account confirmation request {"CustomerId":"c9723215-03eb-4507-2983-08db9234cbdb","AccountName":"string","AccountType":1,"RequiresATMCard":true,"CardType":1}
[2023-08-01 03:16:56.791 +01:00  INF]  Executed DbCommand (100ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customerId_0
[2023-08-01 03:16:57.181 +01:00  INF]  Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 20), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 10), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [ATMCardCCV], [ATMCardExpiryDate], [ATMCardIssueDate], [ATMCardNumber], [ATMCardPIN], [ATMCardType], [AccountNumber], [AccountType], [CustomerId], [DateCreated], [DateUpdated], [HasATMCard], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
[2023-08-01 03:16:57.203 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[@__customer_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customer_Id_0
[2023-08-01 03:16:57.203 +01:00  INF]  Customer confirmed ZenithBankATM.API.Database.Entities.Customer
[2023-08-01 03:16:57.217 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Database.Entities.Customer'.
[2023-08-01 03:16:57.256 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API) in 2981.6181ms
[2023-08-01 03:16:57.258 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 03:16:57.264 +01:00  ERR]  An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2023-08-01 03:16:57.307 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149 - 500 - text/plain;+charset=utf-8 3086.3374ms
[2023-08-01 09:33:28.626 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 09:33:28.665 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 09:33:28.670 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 09:33:28.670 +01:00  INF]  Hosting environment: Development
[2023-08-01 09:33:28.670 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 09:33:29.395 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 09:33:29.999 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 09:33:30.010 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 10.3601ms
[2023-08-01 09:33:30.011 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 623.1610ms
[2023-08-01 09:33:30.036 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 09:33:30.074 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.2403ms
[2023-08-01 09:33:30.221 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 09:33:30.457 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 235.9609ms
[2023-08-01 09:34:28.943 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149
[2023-08-01 09:34:28.961 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 09:34:29.009 +01:00  INF]  Route matched with {action = "ConfirmCustomerAndGenerateAccountNumber", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmCustomerAndGenerateAccountNumber(ZenithBankATM.API.Services.Customers.AccountConfirmationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 09:34:29.373 +01:00  INF]  Receieved customer account confirmation request {"CustomerId":"c9723215-03eb-4507-2983-08db9234cbdb","AccountName":"string","AccountType":0,"RequiresATMCard":true,"CardType":0}
[2023-08-01 09:34:31.807 +01:00  INF]  Executed DbCommand (102ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customerId_0
[2023-08-01 09:34:32.240 +01:00  INF]  Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 20), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 10), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [ATMCardCCV], [ATMCardExpiryDate], [ATMCardIssueDate], [ATMCardNumber], [ATMCardPIN], [ATMCardType], [AccountNumber], [AccountType], [CustomerId], [DateCreated], [DateUpdated], [HasATMCard], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
[2023-08-01 09:34:32.268 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[@__customer_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customer_Id_0
[2023-08-01 09:34:32.268 +01:00  INF]  Customer confirmed ZenithBankATM.API.Database.Entities.Customer
[2023-08-01 09:34:32.284 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Database.Entities.Customer'.
[2023-08-01 09:34:32.313 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API) in 3299.0602ms
[2023-08-01 09:34:32.315 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 09:34:32.337 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149 - 200 - application/json;+charset=utf-8 3394.2820ms
[2023-08-01 09:35:18.550 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149
[2023-08-01 09:35:18.561 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 09:35:18.563 +01:00  INF]  Route matched with {action = "ConfirmCustomerAndGenerateAccountNumber", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmCustomerAndGenerateAccountNumber(ZenithBankATM.API.Services.Customers.AccountConfirmationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 09:35:18.564 +01:00  INF]  Receieved customer account confirmation request {"CustomerId":"c9723215-03eb-4507-2983-08db9234cbdb","AccountName":"string","AccountType":0,"RequiresATMCard":true,"CardType":0}
[2023-08-01 09:35:18.586 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customerId_0
[2023-08-01 09:35:18.596 +01:00  INF]  Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 20), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 10), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [ATMCardCCV], [ATMCardExpiryDate], [ATMCardIssueDate], [ATMCardNumber], [ATMCardPIN], [ATMCardType], [AccountNumber], [AccountType], [CustomerId], [DateCreated], [DateUpdated], [HasATMCard], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
[2023-08-01 09:35:18.598 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[@__customer_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customer_Id_0
[2023-08-01 09:35:18.598 +01:00  INF]  Customer confirmed ZenithBankATM.API.Database.Entities.Customer
[2023-08-01 09:35:18.598 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Database.Entities.Customer'.
[2023-08-01 09:35:18.599 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API) in 35.7117ms
[2023-08-01 09:35:18.599 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 09:35:18.599 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149 - 200 - application/json;+charset=utf-8 49.8601ms
[2023-08-01 09:36:38.904 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 09:36:38.952 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 09:36:38.958 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 09:36:38.959 +01:00  INF]  Hosting environment: Development
[2023-08-01 09:36:38.959 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 09:36:39.594 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 09:36:40.207 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 09:36:40.214 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 6.0081ms
[2023-08-01 09:36:40.215 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 625.6023ms
[2023-08-01 09:36:40.239 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 09:36:40.267 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.2508ms
[2023-08-01 09:36:40.391 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 09:36:40.617 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 226.3212ms
[2023-08-01 09:38:27.018 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149
[2023-08-01 09:38:27.027 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 09:38:27.064 +01:00  INF]  Route matched with {action = "ConfirmCustomerAndGenerateAccountNumber", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmCustomerAndGenerateAccountNumber(ZenithBankATM.API.Services.Customers.AccountConfirmationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 09:38:27.367 +01:00  INF]  Receieved customer account confirmation request {"CustomerId":"c9723215-03eb-4507-2983-08db9234cbdb","AccountName":"string","AccountType":0,"RequiresATMCard":true,"CardType":0}
[2023-08-01 09:38:29.513 +01:00  INF]  Executed DbCommand (104ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customerId_0
[2023-08-01 09:38:29.902 +01:00  INF]  Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 20), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 10), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [ATMCardCCV], [ATMCardExpiryDate], [ATMCardIssueDate], [ATMCardNumber], [ATMCardPIN], [ATMCardType], [AccountNumber], [AccountType], [CustomerId], [DateCreated], [DateUpdated], [HasATMCard], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
[2023-08-01 09:38:30.063 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__customer_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[BVN], [t].[DateCreated], [t].[DateUpdated], [t].[Email], [t].[FirstName], [t].[IsConfirmed], [t].[LastName], [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
    FROM [Customers] AS [c]
    WHERE [c].[Id] = @__customer_Id_0
) AS [t]
LEFT JOIN [Accounts] AS [a] ON [t].[Id] = [a].[CustomerId]
ORDER BY [t].[Id]
[2023-08-01 09:38:30.069 +01:00  INF]  Customer confirmed ZenithBankATM.API.Database.Entities.Customer
[2023-08-01 09:38:30.082 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Database.Entities.Customer'.
[2023-08-01 09:38:30.125 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API) in 3053.6252ms
[2023-08-01 09:38:30.128 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 09:38:30.135 +01:00  ERR]  An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.Customer.Accounts.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCoreAsObject(Utf8JsonWriter writer, Object value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, JsonTypeInfo jsonTypeInfo, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at System.Text.Json.JsonSerializer.WriteStreamAsync[TValue](Stream utf8Json, TValue value, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2023-08-01 09:38:30.223 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149 - 500 - text/plain;+charset=utf-8 3204.7025ms
[2023-08-01 10:00:16.068 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 10:00:16.111 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 10:00:16.116 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 10:00:16.117 +01:00  INF]  Hosting environment: Development
[2023-08-01 10:00:16.117 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 10:00:18.875 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 10:00:19.627 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 755.5767ms
[2023-08-01 10:00:19.656 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 10:00:19.667 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 10.1002ms
[2023-08-01 10:00:19.673 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 10:00:19.718 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.1702ms
[2023-08-01 10:00:19.825 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 10:00:20.010 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.9627ms
[2023-08-01 10:00:31.068 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149
[2023-08-01 10:00:31.082 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 10:00:31.134 +01:00  INF]  Route matched with {action = "ConfirmCustomerAndGenerateAccountNumber", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmCustomerAndGenerateAccountNumber(ZenithBankATM.API.Services.Customers.AccountConfirmationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 10:00:31.548 +01:00  INF]  Receieved customer account confirmation request {"CustomerId":"c9723215-03eb-4507-2983-08db9234cbdb","AccountName":"string","AccountType":0,"RequiresATMCard":true,"CardType":0}
[2023-08-01 10:00:34.524 +01:00  INF]  Executed DbCommand (104ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customerId_0
[2023-08-01 10:00:34.936 +01:00  INF]  Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 20), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 10), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [ATMCardCCV], [ATMCardExpiryDate], [ATMCardIssueDate], [ATMCardNumber], [ATMCardPIN], [ATMCardType], [AccountNumber], [AccountType], [CustomerId], [DateCreated], [DateUpdated], [HasATMCard], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
[2023-08-01 10:00:34.975 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
[2023-08-01 10:00:34.979 +01:00  INF]  Customer confirmed CustomerData { Id = c9723215-03eb-4507-2983-08db9234cbdb, FirstName = string, LastName = string, Email = string@email.com, BVN = 69191455624, Accounts = System.Collections.Generic.List`1[ZenithBankATM.API.Database.Entities.Account] }
[2023-08-01 10:00:34.995 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Models.CustomerData'.
[2023-08-01 10:00:35.029 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API) in 3888.5495ms
[2023-08-01 10:00:35.032 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 10:00:35.052 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149 - 200 - application/json;+charset=utf-8 3983.8463ms
[2023-08-01 10:15:02.118 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 10:15:02.150 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 10:15:02.155 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 10:15:02.156 +01:00  INF]  Hosting environment: Development
[2023-08-01 10:15:02.156 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 10:15:02.771 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 10:15:03.346 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 10:15:03.354 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 6.8721ms
[2023-08-01 10:15:03.356 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 590.7572ms
[2023-08-01 10:15:03.386 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 10:15:03.413 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.5268ms
[2023-08-01 10:15:03.527 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 10:15:03.712 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 184.7056ms
[2023-08-01 10:41:59.916 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 10:41:59.953 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 10:41:59.960 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 10:41:59.961 +01:00  INF]  Hosting environment: Development
[2023-08-01 10:41:59.961 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 10:42:00.396 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 10:42:00.890 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 10:42:00.900 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 8.7172ms
[2023-08-01 10:42:00.900 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 510.1862ms
[2023-08-01 10:42:00.919 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 10:42:00.943 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.5366ms
[2023-08-01 10:42:01.081 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 10:42:01.275 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 194.6202ms
[2023-08-01 10:42:13.490 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Account/Register application/json 82
[2023-08-01 10:42:13.507 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API)'
[2023-08-01 10:42:13.546 +01:00  INF]  Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ZenithBankATM.API.Services.Customers.CustomerCreationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 10:42:13.882 +01:00  INF]  Receieved customer creation request {"FirstName":"string","LastName":"string","Email":"string@email.com"}
[2023-08-01 10:42:16.518 +01:00  INF]  Executed DbCommand (114ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2023-08-01 10:42:16.719 +01:00  INF]  Executing ObjectResult, writing value of type 'System.String'.
[2023-08-01 10:42:16.727 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API) in 3175.2825ms
[2023-08-01 10:42:16.728 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API)'
[2023-08-01 10:42:16.745 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Account/Register application/json 82 - 400 - text/plain;+charset=utf-8 3255.1933ms
[2023-08-01 10:58:37.227 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 10:58:37.260 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 10:58:37.266 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 10:58:37.267 +01:00  INF]  Hosting environment: Development
[2023-08-01 10:58:37.267 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 10:58:37.773 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 10:58:38.258 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 10:58:38.267 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 8.1528ms
[2023-08-01 10:58:38.268 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 500.1404ms
[2023-08-01 10:58:38.285 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 10:58:38.306 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.2513ms
[2023-08-01 10:58:38.420 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 10:58:38.600 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 180.3905ms
[2023-08-01 10:58:53.803 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Account/Register application/json 82
[2023-08-01 10:58:53.815 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API)'
[2023-08-01 10:58:53.854 +01:00  INF]  Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ZenithBankATM.API.Services.Customers.CustomerCreationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 10:58:54.127 +01:00  INF]  Receieved customer creation request {"FirstName":"string","LastName":"string","Email":"string@email.com"}
[2023-08-01 10:58:56.279 +01:00  INF]  Executed DbCommand (96ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2023-08-01 10:58:56.463 +01:00  INF]  Executing ObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[ZenithBankATM.API.Exceptions.ApiException, ZenithBankATM.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-01 10:58:56.481 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API) in 2621.0192ms
[2023-08-01 10:58:56.482 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API)'
[2023-08-01 10:58:56.500 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Account/Register application/json 82 - 400 - application/json;+charset=utf-8 2697.3787ms
[2023-08-01 11:02:14.663 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 11:02:14.697 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 11:02:14.702 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 11:02:14.703 +01:00  INF]  Hosting environment: Development
[2023-08-01 11:02:14.703 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 11:02:15.132 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 11:02:15.614 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 11:02:15.624 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 8.2442ms
[2023-08-01 11:02:15.625 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 500.0224ms
[2023-08-01 11:02:15.643 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 11:02:15.671 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.7043ms
[2023-08-01 11:02:15.783 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 11:02:15.982 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 199.3021ms
[2023-08-01 11:02:34.359 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Account/Register application/json 82
[2023-08-01 11:02:34.369 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API)'
[2023-08-01 11:02:34.406 +01:00  INF]  Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ZenithBankATM.API.Services.Customers.CustomerCreationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 11:02:34.686 +01:00  INF]  Receieved customer creation request {"FirstName":"string","LastName":"string","Email":"string@email.com"}
[2023-08-01 11:02:36.862 +01:00  INF]  Executed DbCommand (103ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2023-08-01 11:02:37.047 +01:00  INF]  Executing ObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[ZenithBankATM.API.Exceptions.ApiException, ZenithBankATM.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-01 11:02:37.063 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API) in 2652.38ms
[2023-08-01 11:02:37.065 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.Register (ZenithBankATM.API)'
[2023-08-01 11:02:37.082 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Account/Register application/json 82 - 400 - application/json;+charset=utf-8 2722.5968ms
[2023-08-01 11:42:47.641 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 11:42:47.684 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 11:42:47.690 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 11:42:47.691 +01:00  INF]  Hosting environment: Development
[2023-08-01 11:42:47.691 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 11:42:48.066 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 11:42:48.533 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 11:42:48.541 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 7.1435ms
[2023-08-01 11:42:48.542 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 482.2092ms
[2023-08-01 11:42:48.561 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 11:42:48.586 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.6347ms
[2023-08-01 11:42:48.694 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 11:42:48.876 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 182.4850ms
[2023-08-01 11:43:17.812 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149
[2023-08-01 11:43:17.825 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 11:43:17.869 +01:00  INF]  Route matched with {action = "ConfirmCustomerAndGenerateAccountNumber", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmCustomerAndGenerateAccountNumber(ZenithBankATM.API.Services.Customers.AccountConfirmationRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 11:43:18.197 +01:00  INF]  Receieved customer account confirmation request {"CustomerId":"c9723215-03eb-4507-2983-08db9234cbdb","AccountName":"string","AccountType":0,"RequiresATMCard":true,"CardType":0}
[2023-08-01 11:43:20.624 +01:00  INF]  Executed DbCommand (115ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customerId_0
[2023-08-01 11:43:21.042 +01:00  INF]  Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 20), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 10), @p8='?' (DbType = Int32), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Boolean), @p13='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [ATMCardCCV], [ATMCardExpiryDate], [ATMCardIssueDate], [ATMCardNumber], [ATMCardPIN], [ATMCardType], [AccountNumber], [AccountType], [CustomerId], [DateCreated], [DateUpdated], [HasATMCard], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
[2023-08-01 11:43:21.090 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
[2023-08-01 11:43:21.093 +01:00  INF]  Customer confirmed CustomerData { Id = c9723215-03eb-4507-2983-08db9234cbdb, FirstName = string, LastName = string, Email = string@email.com, BVN = 69191455624, Accounts = System.Collections.Generic.List`1[ZenithBankATM.API.Database.Entities.Account] }
[2023-08-01 11:43:21.110 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[ZenithBankATM.API.Models.CustomerData, ZenithBankATM.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-01 11:43:21.153 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API) in 3277.5984ms
[2023-08-01 11:43:21.155 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 11:43:21.171 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Confirm-Customer-And-Generate-Account-Number application/json 149 - 200 - application/json;+charset=utf-8 3359.0609ms
[2023-08-01 12:20:43.767 +01:00  INF]  Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 12:20:43.820 +01:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-08-01 12:20:43.823 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 12:20:43.824 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-08-01 12:20:43.847 +01:00  INF]  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-08-01 12:20:43.867 +01:00  INF]  Applying migration '20230801111944_AddTransaction'.
[2023-08-01 12:20:43.988 +01:00  INF]  Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Accounts] ADD [Balance] decimal(18,2) NOT NULL DEFAULT 0.0;
[2023-08-01 12:20:43.992 +01:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transaction] (
    [Id] uniqueidentifier NOT NULL,
    [AccountId] uniqueidentifier NOT NULL,
    [TransactionType] int NOT NULL,
    [Reference] nvarchar(30) NOT NULL,
    [DateCaptured] datetime2 NOT NULL,
    [ValueCaptured] datetime2 NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    [Narration] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Transaction] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transaction_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
[2023-08-01 12:20:43.993 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transaction_AccountId] ON [Transaction] ([AccountId]);
[2023-08-01 12:20:43.994 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230801111944_AddTransaction', N'7.0.9');
[2023-08-01 12:21:37.599 +01:00  INF]  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 12:21:40.706 +01:00  INF]  Executed DbCommand (3,030ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [ZenithBankData] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
[2023-08-01 12:21:40.822 +01:00  INF]  Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [ZenithBankData];
[2023-08-01 12:23:39.676 +01:00  INF]  Executed DbCommand (280ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [ZenithBankData];
[2023-08-01 12:23:39.812 +01:00  INF]  Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [ZenithBankData] SET READ_COMMITTED_SNAPSHOT ON;
END;
[2023-08-01 12:23:39.860 +01:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 12:23:39.962 +01:00  INF]  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
[2023-08-01 12:23:39.963 +01:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 12:23:39.981 +01:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-08-01 12:23:39.985 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-08-01 12:23:40.001 +01:00  INF]  Applying migration '20230801112314_InitialCreate'.
[2023-08-01 12:23:40.039 +01:00  INF]  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Customers] (
    [Id] uniqueidentifier NOT NULL,
    [FirstName] nvarchar(30) NOT NULL,
    [LastName] nvarchar(30) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [BVN] nvarchar(12) NOT NULL,
    [IsConfirmed] bit NOT NULL,
    [DateCreated] datetime2 NOT NULL,
    [DateUpdated] datetime2 NOT NULL,
    CONSTRAINT [PK_Customers] PRIMARY KEY ([Id])
);
[2023-08-01 12:23:40.042 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Accounts] (
    [Id] uniqueidentifier NOT NULL,
    [AccountNumber] nvarchar(10) NOT NULL,
    [AccountType] int NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [HasATMCard] bit NOT NULL,
    [ATMCardType] int NOT NULL,
    [ATMCardNumber] nvarchar(20) NOT NULL,
    [ATMCardCCV] nvarchar(3) NOT NULL,
    [ATMCardPIN] nvarchar(4) NOT NULL,
    [ATMCardIssueDate] datetime2 NOT NULL,
    [ATMCardExpiryDate] datetime2 NOT NULL,
    [CustomerId] uniqueidentifier NOT NULL,
    [DateCreated] datetime2 NOT NULL,
    [DateUpdated] datetime2 NOT NULL,
    [Balance] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_Accounts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Accounts_Customers_CustomerId] FOREIGN KEY ([CustomerId]) REFERENCES [Customers] ([Id]) ON DELETE CASCADE
);
[2023-08-01 12:23:40.044 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transactions] (
    [Id] uniqueidentifier NOT NULL,
    [AccountId] uniqueidentifier NOT NULL,
    [TransactionType] int NOT NULL,
    [Reference] nvarchar(30) NOT NULL,
    [DateCaptured] datetime2 NOT NULL,
    [ValueCaptured] datetime2 NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    [Narration] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transactions_Accounts_AccountId] FOREIGN KEY ([AccountId]) REFERENCES [Accounts] ([Id]) ON DELETE CASCADE
);
[2023-08-01 12:23:40.045 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Accounts_CustomerId] ON [Accounts] ([CustomerId]);
[2023-08-01 12:23:40.045 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_AccountId] ON [Transactions] ([AccountId]);
[2023-08-01 12:23:40.047 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230801112314_InitialCreate', N'7.0.9');
[2023-08-01 13:15:02.442 +01:00  INF]  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 13:15:02.495 +01:00  INF]  Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-08-01 13:15:02.498 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
[2023-08-01 13:15:02.498 +01:00  INF]  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
[2023-08-01 13:15:02.522 +01:00  INF]  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
[2023-08-01 13:15:02.546 +01:00  INF]  Applying migration '20230801121433_ChangeColumnNameInTransactions'.
[2023-08-01 13:15:02.739 +01:00  INF]  Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Transactions].[ValueCaptured]', N'ValueDate', N'COLUMN';
[2023-08-01 13:15:02.741 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230801121433_ChangeColumnNameInTransactions', N'7.0.9');
[2023-08-01 13:25:48.765 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 13:25:48.798 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 13:25:48.802 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 13:25:48.803 +01:00  INF]  Hosting environment: Development
[2023-08-01 13:25:48.803 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 13:25:49.670 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 13:25:50.143 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 13:25:50.151 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 6.2537ms
[2023-08-01 13:25:50.151 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 487.3717ms
[2023-08-01 13:25:50.169 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 13:25:50.197 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.3902ms
[2023-08-01 13:25:50.310 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 13:25:50.334 +01:00  ERR]  An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ZenithBankATM.API.Controllers.AccountController.MakeDeposit (ZenithBankATM.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2023-08-01 13:25:50.397 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 87.5085ms
[2023-08-01 13:26:49.224 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 13:26:49.261 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 13:26:49.266 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 13:26:49.267 +01:00  INF]  Hosting environment: Development
[2023-08-01 13:26:49.267 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 13:26:49.675 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 13:26:50.153 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 13:26:50.162 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 7.9771ms
[2023-08-01 13:26:50.164 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 492.8819ms
[2023-08-01 13:26:50.183 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 13:26:50.245 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 61.9151ms
[2023-08-01 13:26:50.365 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 13:26:50.398 +01:00  ERR]  An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ZenithBankATM.API.Controllers.AccountController.MakeDeposit (ZenithBankATM.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2023-08-01 13:26:50.444 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 79.2170ms
[2023-08-01 13:27:11.429 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 13:27:11.463 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 13:27:11.467 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 13:27:11.468 +01:00  INF]  Hosting environment: Development
[2023-08-01 13:27:11.468 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 13:27:12.267 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 13:27:12.746 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 13:27:12.752 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 4.7887ms
[2023-08-01 13:27:12.753 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 490.7168ms
[2023-08-01 13:27:12.769 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 13:27:12.795 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.1929ms
[2023-08-01 13:27:12.910 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 13:27:12.933 +01:00  ERR]  An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - ZenithBankATM.API.Controllers.AccountController.MakeDeposit (ZenithBankATM.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
[2023-08-01 13:27:12.982 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 500 - text/plain;+charset=utf-8 71.3280ms
[2023-08-01 13:28:25.703 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 13:28:25.738 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 13:28:25.746 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 13:28:25.746 +01:00  INF]  Hosting environment: Development
[2023-08-01 13:28:25.746 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 13:28:26.323 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 13:28:26.814 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 13:28:26.822 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 7.0385ms
[2023-08-01 13:28:26.832 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 514.3994ms
[2023-08-01 13:28:26.844 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 13:28:26.871 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.9907ms
[2023-08-01 13:28:26.987 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 13:28:27.199 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 212.2762ms
[2023-08-01 13:30:31.089 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 13:30:31.122 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 13:30:31.127 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 13:30:31.127 +01:00  INF]  Hosting environment: Development
[2023-08-01 13:30:31.127 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 13:30:31.928 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 13:30:32.400 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 13:30:32.408 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 6.2817ms
[2023-08-01 13:30:32.409 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 486.6592ms
[2023-08-01 13:30:32.426 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 13:30:32.451 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.3226ms
[2023-08-01 13:30:32.573 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 13:30:32.776 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.0122ms
[2023-08-01 13:33:47.147 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 13:33:47.183 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 13:33:47.187 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 13:33:47.188 +01:00  INF]  Hosting environment: Development
[2023-08-01 13:33:47.188 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 13:33:47.815 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 13:33:48.280 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 13:33:48.289 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 7.7206ms
[2023-08-01 13:33:48.290 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 480.6276ms
[2023-08-01 13:33:48.307 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 13:33:48.325 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 17.6470ms
[2023-08-01 13:33:48.446 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 13:33:48.672 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 226.3029ms
[2023-08-01 13:34:04.479 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Onboarding/Register application/json 81
[2023-08-01 13:34:04.489 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.OnboardingController.Register (ZenithBankATM.API)'
[2023-08-01 13:34:04.530 +01:00  INF]  Route matched with {action = "Register", controller = "Onboarding"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ZenithBankATM.API.Services.Onboarding.CustomerCreationRequest) on controller ZenithBankATM.API.Controllers.OnboardingController (ZenithBankATM.API).
[2023-08-01 13:34:04.793 +01:00  INF]  Receieved customer creation request {"FirstName":"Akeem","LastName":"Aweda","Email":"akeem@aweklin.com"}
[2023-08-01 13:34:07.019 +01:00  INF]  Executed DbCommand (124ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2023-08-01 13:34:07.359 +01:00  INF]  Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 12), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 30), @p6='?' (DbType = Boolean), @p7='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Id], [BVN], [DateCreated], [DateUpdated], [Email], [FirstName], [IsConfirmed], [LastName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[2023-08-01 13:34:07.381 +01:00  INF]  New customer created ZenithBankATM.API.Database.Entities.Customer
[2023-08-01 13:34:07.385 +01:00  ERR]  Unknown error occurred
[2023-08-01 13:34:07.396 +01:00  INF]  Executing ObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-01 13:34:07.414 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.OnboardingController.Register (ZenithBankATM.API) in 2877.9735ms
[2023-08-01 13:34:07.415 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.OnboardingController.Register (ZenithBankATM.API)'
[2023-08-01 13:34:07.431 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Onboarding/Register application/json 81 - 500 - application/json;+charset=utf-8 2951.9312ms
[2023-08-01 13:34:59.393 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Onboarding/Register application/json 81
[2023-08-01 13:34:59.403 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.OnboardingController.Register (ZenithBankATM.API)'
[2023-08-01 13:34:59.405 +01:00  INF]  Route matched with {action = "Register", controller = "Onboarding"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ZenithBankATM.API.Services.Onboarding.CustomerCreationRequest) on controller ZenithBankATM.API.Controllers.OnboardingController (ZenithBankATM.API).
[2023-08-01 13:34:59.406 +01:00  INF]  Receieved customer creation request {"FirstName":"Akeem","LastName":"Aweda","Email":"akeem@aweklin.com"}
[2023-08-01 13:34:59.424 +01:00  INF]  Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
[2023-08-01 13:35:02.569 +01:00  INF]  Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 12), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 30), @p6='?' (DbType = Boolean), @p7='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Id], [BVN], [DateCreated], [DateUpdated], [Email], [FirstName], [IsConfirmed], [LastName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
[2023-08-01 13:35:27.668 +01:00  INF]  New customer created ZenithBankATM.API.Database.Entities.Customer
[2023-08-01 13:37:53.026 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[ZenithBankATM.API.Database.Entities.Customer, ZenithBankATM.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-01 13:37:53.051 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.OnboardingController.Register (ZenithBankATM.API) in 173636.8622ms
[2023-08-01 13:37:53.051 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.OnboardingController.Register (ZenithBankATM.API)'
[2023-08-01 13:37:53.051 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Onboarding/Register application/json 81 - 200 - application/json;+charset=utf-8 173649.7572ms
[2023-08-01 13:39:05.894 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Onboarding/Confirm-Customer-And-Generate-Account-Number application/json 154
[2023-08-01 13:39:05.923 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.OnboardingController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 13:39:05.931 +01:00  INF]  Route matched with {action = "ConfirmCustomerAndGenerateAccountNumber", controller = "Onboarding"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmCustomerAndGenerateAccountNumber(ZenithBankATM.API.Services.Onboarding.AccountConfirmationRequest) on controller ZenithBankATM.API.Controllers.OnboardingController (ZenithBankATM.API).
[2023-08-01 13:39:05.977 +01:00  INF]  Receieved customer account confirmation request {"CustomerId":"8cba3ec1-adca-4563-36d0-08db928b9930","AccountName":"Akeem Aweda","AccountType":0,"RequiresATMCard":true,"CardType":1}
[2023-08-01 13:39:06.079 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[BVN], [c].[DateCreated], [c].[DateUpdated], [c].[Email], [c].[FirstName], [c].[IsConfirmed], [c].[LastName]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__customerId_0
[2023-08-01 13:39:06.183 +01:00  INF]  Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 3), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 20), @p5='?' (Size = 4), @p6='?' (DbType = Int32), @p7='?' (Size = 10), @p8='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Boolean), @p14='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Accounts] ([Id], [ATMCardCCV], [ATMCardExpiryDate], [ATMCardIssueDate], [ATMCardNumber], [ATMCardPIN], [ATMCardType], [AccountNumber], [AccountType], [Balance], [CustomerId], [DateCreated], [DateUpdated], [HasATMCard], [Name])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
[2023-08-01 13:39:06.212 +01:00  INF]  Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[CustomerId] = @__customerId_0
[2023-08-01 13:39:06.218 +01:00  INF]  Customer confirmed CustomerData { Id = 8cba3ec1-adca-4563-36d0-08db928b9930, FirstName = Akeem, LastName = Aweda, Email = akeem@aweklin.com, BVN = 95468721938, Accounts = System.Collections.Generic.List`1[ZenithBankATM.API.Database.Entities.Account] }
[2023-08-01 13:39:11.426 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[ZenithBankATM.API.Models.CustomerData, ZenithBankATM.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-01 13:39:11.452 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.OnboardingController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API) in 5521.5658ms
[2023-08-01 13:39:11.453 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.OnboardingController.ConfirmCustomerAndGenerateAccountNumber (ZenithBankATM.API)'
[2023-08-01 13:39:11.453 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Onboarding/Confirm-Customer-And-Generate-Account-Number application/json 154 - 200 - application/json;+charset=utf-8 5558.6576ms
[2023-08-01 13:39:57.862 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Account/Make-Deposit application/json 95
[2023-08-01 13:39:57.867 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.MakeDeposit (ZenithBankATM.API)'
[2023-08-01 13:39:57.872 +01:00  INF]  Route matched with {action = "MakeDeposit", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeDeposit(ZenithBankATM.API.Services.Account.AccountDepositRequest, System.Threading.CancellationToken) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 13:39:57.909 +01:00  INF]  Executed DbCommand (3ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 13:39:57.964 +01:00  ERR]  Failed executing DbCommand (36ms) [Parameters=[@AccountId='?' (DbType = Guid), @Amount='?' (DbType = Decimal), @ValueDate='?' (DbType = DateTime), @Reference='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
Execute sp_MakeDeposit @AccountId, @Amount, @Reference, @ValueDate
[2023-08-01 13:39:58.036 +01:00  ERR]  Cannot insert the value NULL into column 'Id', table 'ZenithBankData.dbo.Transactions'; column does not allow nulls. INSERT fails.
The statement has been terminated.
Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'ZenithBankData.dbo.Transactions'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ZenithBankATM.API.Services.Account.AccountService.MakeDeposit(AccountDepositRequest request, CancellationToken cancellationToken)
   at ZenithBankATM.API.Controllers.AccountController.MakeDeposit(AccountDepositRequest request, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
ClientConnectionId:b0448058-e859-45c6-8a79-004196fc1041
Error Number:515,State:2,Class:16
[2023-08-01 13:39:58.059 +01:00  INF]  Executing ObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-01 13:39:58.070 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.MakeDeposit (ZenithBankATM.API) in 197.9487ms
[2023-08-01 13:39:58.070 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.MakeDeposit (ZenithBankATM.API)'
[2023-08-01 13:39:58.070 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Account/Make-Deposit application/json 95 - 500 - application/json;+charset=utf-8 208.3957ms
[2023-08-01 13:41:15.331 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Account/Make-Deposit application/json 95
[2023-08-01 13:41:15.334 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.MakeDeposit (ZenithBankATM.API)'
[2023-08-01 13:41:15.334 +01:00  INF]  Route matched with {action = "MakeDeposit", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeDeposit(ZenithBankATM.API.Services.Account.AccountDepositRequest, System.Threading.CancellationToken) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 13:41:15.344 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 13:41:15.359 +01:00  INF]  Executed DbCommand (13ms) [Parameters=[@AccountId='?' (DbType = Guid), @Amount='?' (DbType = Decimal), @ValueDate='?' (DbType = DateTime), @Reference='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
Execute sp_MakeDeposit @AccountId, @Amount, @Reference, @ValueDate
[2023-08-01 13:41:15.365 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__transactionReference_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[AccountId], [t].[Amount], [t].[DateCaptured], [t].[Narration], [t].[Reference], [t].[TransactionType], [t].[ValueDate]
FROM [Transactions] AS [t]
WHERE [t].[Reference] = @__transactionReference_0
[2023-08-01 13:41:15.397 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 13:41:15.397 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[ZenithBankATM.API.Models.TransactionResponse, ZenithBankATM.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-01 13:41:15.399 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.MakeDeposit (ZenithBankATM.API) in 65.3828ms
[2023-08-01 13:41:15.399 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.MakeDeposit (ZenithBankATM.API)'
[2023-08-01 13:41:15.399 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Account/Make-Deposit application/json 95 - 200 - application/json;+charset=utf-8 68.6988ms
[2023-08-01 13:56:26.992 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 13:56:27.026 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 13:56:27.031 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 13:56:27.031 +01:00  INF]  Hosting environment: Development
[2023-08-01 13:56:27.032 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 13:56:27.633 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 13:56:28.125 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 13:56:28.135 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 8.5119ms
[2023-08-01 13:56:28.136 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 510.3736ms
[2023-08-01 13:56:28.155 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 13:56:28.177 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.0249ms
[2023-08-01 13:56:28.302 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 13:56:28.558 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 255.2670ms
[2023-08-01 13:56:51.076 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/Account/Balance/0252483079 - -
[2023-08-01 13:56:51.090 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.GetBalance (ZenithBankATM.API)'
[2023-08-01 13:56:51.127 +01:00  INF]  Route matched with {action = "GetBalance", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBalance(System.String) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 13:56:53.513 +01:00  INF]  Executed DbCommand (95ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 13:56:53.686 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[ZenithBankATM.API.Models.AccountBalanceResponse, ZenithBankATM.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-01 13:56:53.716 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.GetBalance (ZenithBankATM.API) in 2582.5202ms
[2023-08-01 13:56:53.718 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.GetBalance (ZenithBankATM.API)'
[2023-08-01 13:56:53.734 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/Account/Balance/0252483079 - - - 200 - application/json;+charset=utf-8 2658.6229ms
[2023-08-01 14:08:16.763 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 14:08:16.803 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 14:08:16.808 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 14:08:16.808 +01:00  INF]  Hosting environment: Development
[2023-08-01 14:08:16.809 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 14:08:17.263 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 14:08:17.783 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 14:08:17.793 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 9.1116ms
[2023-08-01 14:08:17.794 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 537.1254ms
[2023-08-01 14:08:17.816 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 14:08:17.840 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.2259ms
[2023-08-01 14:08:17.964 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 14:08:18.188 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 224.3957ms
[2023-08-01 14:08:35.061 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Make-Withdrawal application/json 95
[2023-08-01 14:08:35.070 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.MakeWithdrawal (ZenithBankATM.API)'
[2023-08-01 14:08:35.110 +01:00  INF]  Route matched with {action = "MakeWithdrawal", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeWithdrawal(ZenithBankATM.API.Services.Account.TransactionRequest, System.Threading.CancellationToken) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 14:08:37.658 +01:00  INF]  Executed DbCommand (103ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 14:08:37.911 +01:00  ERR]  Failed executing DbCommand (54ms) [Parameters=[@AccountId='?' (DbType = Guid), @Amount='?' (DbType = Decimal), @ValueDate='?' (DbType = DateTime), @Reference='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
Execute sp_MakeWithdrawal @AccountId, @Amount, @Reference, @ValueDate
[2023-08-01 14:08:38.032 +01:00  ERR]  Insufficient account balance.
Microsoft.Data.SqlClient.SqlException (0x80131904): Insufficient account balance.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ZenithBankATM.API.Services.Account.AccountService.PerformDepositOrWithdrawalTransaction(TransactionRequest request, Boolean isWithrawal, CancellationToken cancellationToken) in C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\Services\Account\AccountService.cs:line 77
   at ZenithBankATM.API.Services.Account.AccountService.MakeWithdrawal(TransactionRequest request, CancellationToken cancellationToken) in C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\Services\Account\AccountService.cs:line 42
   at ZenithBankATM.API.Controllers.AccountController.MakeWithdrawal(TransactionRequest request, CancellationToken cancellationToken) in C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\Controllers\AccountController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
ClientConnectionId:0b0dde58-3a5a-4f53-bfa9-e1b18a3138e4
Error Number:50000,State:1,Class:16
[2023-08-01 14:08:38.129 +01:00  INF]  Executing ObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-01 14:08:38.157 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.MakeWithdrawal (ZenithBankATM.API) in 3038.4967ms
[2023-08-01 14:08:38.159 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.MakeWithdrawal (ZenithBankATM.API)'
[2023-08-01 14:08:38.187 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Make-Withdrawal application/json 95 - 500 - application/json;+charset=utf-8 3126.8429ms
[2023-08-01 14:09:04.490 +01:00  INF]  Request starting HTTP/2 PUT https://localhost:7036/Account/Make-Withdrawal application/json 95
[2023-08-01 14:09:04.491 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.MakeWithdrawal (ZenithBankATM.API)'
[2023-08-01 14:09:04.491 +01:00  INF]  Route matched with {action = "MakeWithdrawal", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MakeWithdrawal(ZenithBankATM.API.Services.Account.TransactionRequest, System.Threading.CancellationToken) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 14:09:04.518 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 14:09:04.532 +01:00  INF]  Executed DbCommand (11ms) [Parameters=[@AccountId='?' (DbType = Guid), @Amount='?' (DbType = Decimal), @ValueDate='?' (DbType = DateTime), @Reference='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
Execute sp_MakeWithdrawal @AccountId, @Amount, @Reference, @ValueDate
[2023-08-01 14:09:04.540 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__transactionReference_0='?' (Size = 30)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[AccountId], [t].[Amount], [t].[DateCaptured], [t].[Narration], [t].[Reference], [t].[TransactionType], [t].[ValueDate]
FROM [Transactions] AS [t]
WHERE [t].[Reference] = @__transactionReference_0
[2023-08-01 14:09:04.595 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[@__account_AccountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__account_AccountNumber_0
[2023-08-01 14:09:04.596 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[ZenithBankATM.API.Models.TransactionResponse, ZenithBankATM.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-01 14:09:04.601 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.MakeWithdrawal (ZenithBankATM.API) in 109.0718ms
[2023-08-01 14:09:04.601 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.MakeWithdrawal (ZenithBankATM.API)'
[2023-08-01 14:09:04.601 +01:00  INF]  Request finished HTTP/2 PUT https://localhost:7036/Account/Make-Withdrawal application/json 95 - 200 - application/json;+charset=utf-8 111.5387ms
[2023-08-01 16:08:46.941 +01:00  INF]  Now listening on: https://localhost:7036
[2023-08-01 16:08:46.979 +01:00  INF]  Now listening on: http://localhost:5004
[2023-08-01 16:08:46.984 +01:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-01 16:08:46.984 +01:00  INF]  Hosting environment: Development
[2023-08-01 16:08:46.985 +01:00  INF]  Content root path: C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\
[2023-08-01 16:08:48.228 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/index.html - -
[2023-08-01 16:08:48.832 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - -
[2023-08-01 16:08:48.838 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/index.html - - - 200 - text/html;charset=utf-8 612.9816ms
[2023-08-01 16:08:48.839 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 7.4139ms
[2023-08-01 16:08:48.859 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/_vs/browserLink - -
[2023-08-01 16:08:48.885 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 25.8742ms
[2023-08-01 16:08:49.003 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - -
[2023-08-01 16:08:49.246 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 242.9974ms
[2023-08-01 16:09:44.277 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Account/List-And-Export-Transaction application/json 119
[2023-08-01 16:09:44.308 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel (ZenithBankATM.API)'
[2023-08-01 16:09:44.358 +01:00  INF]  Route matched with {action = "GetTransactionsAndExportToExcel", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransactionsAndExportToExcel(ZenithBankATM.API.Services.Account.TransactionExportRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 16:09:47.215 +01:00  INF]  Executed DbCommand (109ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 16:09:47.404 +01:00  INF]  Executed DbCommand (5ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 16:09:47.430 +01:00  INF]  Executed DbCommand (8ms) [Parameters=[@__account_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountId], [t].[Amount], [t].[DateCaptured], [t].[Narration], [t].[Reference], [t].[TransactionType], [t].[ValueDate]
FROM [Transactions] AS [t]
WHERE [t].[AccountId] = @__account_Id_0
[2023-08-01 16:13:03.656 +01:00  ERR]  Value cannot be null. (Parameter 'path1')
System.ArgumentNullException: Value cannot be null. (Parameter 'path1')
   at System.IO.Path.Combine(String path1, String path2, String path3)
   at ZenithBankATM.API.Services.Account.AccountService.ExportTransactionsToExcel(Account account, List`1 transactions, IHostingEnvironment environment, HttpRequest httpRequest) in C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\Services\Account\AccountService.cs:line 129
   at ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel(TransactionExportRequest request) in C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\Controllers\AccountController.cs:line 90
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2023-08-01 16:13:03.738 +01:00  INF]  Executing ObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-01 16:13:03.762 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel (ZenithBankATM.API) in 199397.3698ms
[2023-08-01 16:13:03.764 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel (ZenithBankATM.API)'
[2023-08-01 16:13:03.782 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Account/List-And-Export-Transaction application/json 119 - 500 - application/json;+charset=utf-8 199504.6648ms
[2023-08-01 16:13:35.928 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Account/List-And-Export-Transaction application/json 119
[2023-08-01 16:13:35.937 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel (ZenithBankATM.API)'
[2023-08-01 16:13:50.174 +01:00  INF]  Route matched with {action = "GetTransactionsAndExportToExcel", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransactionsAndExportToExcel(ZenithBankATM.API.Services.Account.TransactionExportRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 16:13:50.204 +01:00  INF]  Executed DbCommand (7ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 16:13:50.206 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 16:13:50.208 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__account_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountId], [t].[Amount], [t].[DateCaptured], [t].[Narration], [t].[Reference], [t].[TransactionType], [t].[ValueDate]
FROM [Transactions] AS [t]
WHERE [t].[AccountId] = @__account_Id_0
[2023-08-01 16:14:11.517 +01:00  ERR]  Value cannot be null. (Parameter 'path1')
System.ArgumentNullException: Value cannot be null. (Parameter 'path1')
   at System.IO.Path.Combine(String path1, String path2, String path3)
   at ZenithBankATM.API.Services.Account.AccountService.ExportTransactionsToExcel(Account account, List`1 transactions, IHostingEnvironment environment, HttpRequest httpRequest) in C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\Services\Account\AccountService.cs:line 129
   at ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel(TransactionExportRequest request) in C:\Users\AkeemAweda.FCMBPENSIONS\Documents\Aweda\Apps\.NET\ZenithBankATM\ZenithBankATM.API\Controllers\AccountController.cs:line 90
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
[2023-08-01 16:14:11.528 +01:00  INF]  Executing ObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-01 16:14:11.528 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel (ZenithBankATM.API) in 21354.1403ms
[2023-08-01 16:14:11.528 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel (ZenithBankATM.API)'
[2023-08-01 16:14:11.531 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Account/List-And-Export-Transaction application/json 119 - 500 - application/json;+charset=utf-8 35600.9497ms
[2023-08-01 16:14:13.946 +01:00  INF]  Request starting HTTP/2 POST https://localhost:7036/Account/List-And-Export-Transaction application/json 119
[2023-08-01 16:14:13.946 +01:00  INF]  Executing endpoint 'ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel (ZenithBankATM.API)'
[2023-08-01 16:14:13.946 +01:00  INF]  Route matched with {action = "GetTransactionsAndExportToExcel", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTransactionsAndExportToExcel(ZenithBankATM.API.Services.Account.TransactionExportRequest) on controller ZenithBankATM.API.Controllers.AccountController (ZenithBankATM.API).
[2023-08-01 16:14:14.011 +01:00  INF]  Executed DbCommand (13ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 16:14:14.014 +01:00  INF]  Executed DbCommand (2ms) [Parameters=[@__accountNumber_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ATMCardCCV], [a].[ATMCardExpiryDate], [a].[ATMCardIssueDate], [a].[ATMCardNumber], [a].[ATMCardPIN], [a].[ATMCardType], [a].[AccountNumber], [a].[AccountType], [a].[Balance], [a].[CustomerId], [a].[DateCreated], [a].[DateUpdated], [a].[HasATMCard], [a].[Name]
FROM [Accounts] AS [a]
WHERE [a].[AccountNumber] = @__accountNumber_0
[2023-08-01 16:14:14.015 +01:00  INF]  Executed DbCommand (1ms) [Parameters=[@__account_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AccountId], [t].[Amount], [t].[DateCaptured], [t].[Narration], [t].[Reference], [t].[TransactionType], [t].[ValueDate]
FROM [Transactions] AS [t]
WHERE [t].[AccountId] = @__account_Id_0
[2023-08-01 16:16:02.741 +01:00  INF]  Executing OkObjectResult, writing value of type 'ZenithBankATM.API.Models.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-01 16:16:02.744 +01:00  INF]  Executed action ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel (ZenithBankATM.API) in 108797.3563ms
[2023-08-01 16:16:02.744 +01:00  INF]  Executed endpoint 'ZenithBankATM.API.Controllers.AccountController.GetTransactionsAndExportToExcel (ZenithBankATM.API)'
[2023-08-01 16:16:02.744 +01:00  INF]  Request finished HTTP/2 POST https://localhost:7036/Account/List-And-Export-Transaction application/json 119 - 200 - application/json;+charset=utf-8 108797.9766ms
[2023-08-01 16:16:34.064 +01:00  INF]  Request starting HTTP/2 GET https://localhost:7036/Exports/9f4aa738cad94eb1b8f27a5ac6c30300.xlsx - -
[2023-08-01 16:16:34.075 +01:00  INF]  Request finished HTTP/2 GET https://localhost:7036/Exports/9f4aa738cad94eb1b8f27a5ac6c30300.xlsx - - - 404 0 - 11.6459ms
